<!DOCTYPE html>
<html>
<head>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@0.12.0"> </script>\n'

<body>

  <p>Click on the "Choose File" button to upload a file:</p>

  <form name="myForm" onsubmit="return preprocess()">
    <input type="file" id="myFile" name="filename">
    <input type="submit">
  </form>
  <script>
    function validateForm() {
      var x = document.forms["myForm"]["filename"].value;
      alert(x);
      return x;
    }
    function preprocess() {
      var y = validateForm();
      const canvas = document.getElementById("y");
      const ctx = canvas.getContext("2d");

      //get image data
      imgData = ctx.getImageData(0, 0, 28, 28);

      //convert to tensor 
      const tensor = tf.browser.fromPixels(imgData);
      console.log("Loaded!");
      
    }
  </script>

</body>

</html>