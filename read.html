<!DOCTYPE html>
<html>

<head>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@0.12.0"> </script>\n'

<body>

  <p>Click on the "Choose File" button to upload a file:</p>

  <form name="myForm" onsubmit="return preprocess()">
    <input type="file" id="myFile" name="filename">
    <input type="submit">
  </form>
  <script>
    var x;
    function validateForm() {
      x = document.forms["myForm"]["filename"].value;
      alert(x);
      return x;
    }
    function preprocess() {
      const im = new Image()
      im.src = x;
      im.onload = () => {
        const a = tf.fromPixels(im, 4)
        a.print()
        console.log(a.shape)
      }

    }
  </script>

</body>

</html>